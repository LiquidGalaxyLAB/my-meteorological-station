script.
    $(function () {

        var dialog = document.querySelector('dialog');

        if (!dialog.showModal) {
            dialogPolyfill.registerDialog(dialog);
        }
        dialog.querySelector('.close').addEventListener('click', function () {
            dialog.close();
            window.location = '/';
        });


        $('#newstationbtn').on('click', function (event) {
            const user = firebase.auth().currentUser;
            let station = 'Station';

            if (user) {

                firebase.database().ref('station_index/').once('value').then(function (snapshot) {

                    if (snapshot.val() === null) {
                        station += 1;
                        firebase.database().ref('station_index/').set(
                            2
                        );
                    } else {
                        station += snapshot.val();
                        firebase.database().ref('station_index/').set(
                            snapshot.val() + 1
                        );
                    }




                    $('#nsblock').css({display: 'none'});
                    $('#stationname').text(station);

                    $('#userid').text(user.uid);

                    dialog.showModal();

                    firebase.database().ref('users/' + user.uid).push(
                        station
                    );

                });

            }

        });
    });
